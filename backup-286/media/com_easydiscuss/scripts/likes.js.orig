EasyDiscuss.module("likes",function(e){var t=this;EasyDiscuss.require().done(function(e){EasyDiscuss.Controller("Likes",{defaultOptions:{postId:null,registeredUser:null,"{likeButton}":".btnLike","{unlikeButton}":".btnUnlike","{likeText}":".likeText"}},function(t){return{init:function(){t.options.postId=t.element.data("postid")},getLikesData:function(){EasyDiscuss.ajax("site.views.likes.getData",{id:t.options.postId}).done(function(e){t.likeText().html(e)})},likeItem:function(){if(!t.options.registeredUser)return!1;EasyDiscuss.ajax("site.views.likes.like",{postid:t.options.postId}).done(function(e){t.likeText().html(e)})},"{likeButton} click":function(n){t.likeItem(),e(n).addClass("btn-primary")},"{unlikeButton} click":function(n){e(n).removeClass("btn-primary"),t.likeItem()},"{unlikeButton} mouseover":function(t){e(t).find("i").removeClass("icon-thumbs-up").addClass("icon-remove")},"{unlikeButton} mouseout":function(t){e(t).find("i").removeClass("icon-remove").addClass("icon-thumbs-up")}}}),t.resolve()})});